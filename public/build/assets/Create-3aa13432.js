import{s as x,A as P,v as T,r as U,o,b as a,d as t,y as _,z as N,t as n,g as s,F as c,j as u,e as h,B as y,p as A,f as p}from"./app-25ba0aa8.js";import{_ as E,D as j}from"./DropZone-a28ed030.js";import{u as R}from"./categories-87e46fd4.js";import{u as Z}from"./posts-fae0748d.js";import{d as z,u as $,a as v,r as G,m as I}from"./rules-2bfff6b0.js";const J={class:"row my-5"},K={class:"col-md-8"},O={class:"card border-0 shadow-sm"},Q={class:"card-body"},W={class:"mb-3"},X=t("label",{for:"post-title",class:"form-label"}," Title ",-1),Y={class:"text-danger mt-1"},tt={class:"text-danger mt-1"},et={class:"mb-3"},st=t("label",{for:"post-content",class:"form-label"}," Content ",-1),ot={class:"text-danger mt-1"},at={class:"text-danger mt-1"},lt={class:"col-md-4"},it={class:"card border-0 shadow-sm"},nt={class:"card-body"},dt=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Action ")],-1),rt={class:"mt-3 text-center"},ct=["disabled"],ut={class:""},mt={key:0},_t={key:1},ht=["disabled"],vt={class:""},pt={key:0},bt={key:1},gt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Category ")],-1),wt={class:"mb-3"},ft={class:"text-danger mt-1"},Vt={class:"text-danger mt-1"},xt={class:"mb-3"},yt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Thumbnail ")],-1),zt={class:"text-danger mt-1"},Ht={__name:"Create",setup(Lt){z("required",G),z("min",I),x(!0);const L={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:C,errors:m}=$({validationSchema:L}),{value:M}=v("title",null,{initialValue:""}),{value:q}=v("content",null,{initialValue:""}),{value:B}=v("categories",null,{initialValue:"",label:"category"}),{categoryList:k,getCategoryList:H}=R(),{storePost:S,validationErrors:r,isLoading:d}=Z(),l=P({title:M,content:q,categories:B,thumbnail:""});x("");function D(){C().then(b=>{b.valid&&S(l)})}return T(()=>{H()}),(b,i)=>{var g,w,f,V;const F=U("v-select");return o(),a("form",{onSubmit:A(D,["prevent"])},[t("div",J,[t("div",K,[t("div",O,[t("div",Q,[t("div",W,[X,_(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.title=e),id:"post-title",type:"text",class:"form-control"},null,512),[[N,l.title]]),t("div",Y,n(s(m).title),1),t("div",tt,[(o(!0),a(c,null,u((g=s(r))==null?void 0:g.title,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",et,[st,h(E,{modelValue:l.content,"onUpdate:modelValue":i[1]||(i[1]=e=>l.content=e)},null,8,["modelValue"]),t("div",ot,n(s(m).content),1),t("div",at,[(o(!0),a(c,null,u((w=s(r))==null?void 0:w.content,e=>(o(),a("div",null,n(e),1))),256))])])])])]),t("div",lt,[t("div",it,[t("div",nt,[dt,t("div",rt,[t("button",{disabled:s(d),class:"btn btn btn-outline-primary me-2"},[_(t("div",ut,null,512),[[y,s(d)]]),s(d)?(o(),a("span",mt,"Processing...")):(o(),a("span",_t,"Save Draft"))],8,ct),t("button",{disabled:s(d),class:"btn btn-primary"},[_(t("div",vt,null,512),[[y,s(d)]]),s(d)?(o(),a("span",pt,"Processing...")):(o(),a("span",bt,"Publish"))],8,ht)]),gt,t("div",wt,[h(F,{multiple:"",modelValue:l.categories,"onUpdate:modelValue":i[2]||(i[2]=e=>l.categories=e),options:s(k),reduce:e=>e.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),t("div",ft,n(s(m).categories),1),t("div",Vt,[(o(!0),a(c,null,u((f=s(r))==null?void 0:f.categories,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",xt,[yt,h(j,{modelValue:l.thumbnail,"onUpdate:modelValue":i[3]||(i[3]=e=>l.thumbnail=e)},null,8,["modelValue"]),t("div",zt,[(o(!0),a(c,null,u((V=s(r))==null?void 0:V.thumbnail,e=>(o(),a("div",null,n(e),1))),256))])])])])])])],32)}}};export{Ht as default};
